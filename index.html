<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer Support Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Farm Support</h1>
        </div>
        <nav>
            <ul>
                <li><a href="javascript:void(0);" onclick="loadContent('about')">About</a></li>
                <li><a href="javascript:void(0);" onclick="loadContent('register')">Register</a></li>
                <li><a href="javascript:void(0);" onclick="loadContent('contact')">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section id="hero">
        <div class="hero-content">
            <h2>Empowering Farmers with Mechanization Support</h2>
            <p>Register today to receive personalized agricultural assistance.</p>
        </div>
    </section>

    <section id="content-section">
        <!-- Dynamic content will be loaded here -->
        <h2>Welcome to Farm Support!</h2>
        <p>Click the links above to see dynamic content.</p>
    </section>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Farm Support. All rights reserved.</p>
        </div>
    </footer>

    <!-- Firebase SDKs -->
    <script type="module">
        // Import Firebase SDKs
        import { initializeApp } from "firebase/app";
        import { getFirestore, collection, addDoc } from "firebase/firestore";
        import { getAnalytics } from "firebase/analytics";

        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyCQhN1TJRcRJ2ef34uCgRtPZON7E4lJj64",
            authDomain: "farmer-data-collection-48d45.firebaseapp.com",
            projectId: "farmer-data-collection-48d45",
            storageBucket: "farmer-data-collection-48d45.firebasestorage.app",
            messagingSenderId: "755785555291",
            appId: "1:755785555291:web:714b31f381697e43238e7e",
            measurementId: "G-T45LN4R8VM"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);

        // Function to load content dynamically
        function loadContent(page) {
            const contentSection = document.getElementById('content-section');
            
            if (page === 'about') {
                contentSection.innerHTML = `
                    <h2>About Us</h2>
                    <p>At Farm Support, we are dedicated to helping farmers access the resources they need to improve their productivity. Our platform connects farmers with the right mechanization services tailored to their needs, ensuring sustainable and efficient farming practices.</p>
                    <h3>Our Mission</h3>
                    <p>Our mission is to provide farmers with the tools, support, and resources they need to thrive in a modern agricultural landscape. We are committed to improving the efficiency and productivity of farmers while fostering sustainable practices.</p>
                `;
            } else if (page === 'register') {
                contentSection.innerHTML = `
                    <h2>Farmer Registration</h2>
                    <p>Please fill in the form below to register:</p>
                    <form id="farmerForm">
                        <div class="form-group">
                            <label for="farmerName">Name:</label>
                            <input type="text" id="farmerName" required placeholder="Enter your name">
                        </div>
                        <div class="form-group">
                            <label for="farmerPhone">Phone Number:</label>
                            <input type="tel" id="farmerPhone" required placeholder="Enter your phone number">
                        </div>
                        <div class="form-group">
                            <label for="farmerLocation">Location:</label>
                            <input type="text" id="farmerLocation" required placeholder="Enter your location">
                        </div>
                        <div class="form-group">
                            <label for="farmingType">Farming Type:</label>
                            <select id="farmingType" required>
                                <option value="Crop Farming">Crop Farming</option>
                                <option value="Livestock Farming">Livestock Farming</option>
                                <option value="Mixed Farming">Mixed Farming</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="cropType">Main Crop Type:</label>
                            <input type="text" id="cropType" placeholder="Enter the type of crop" required>
                        </div>
                        <div class="form-group">
                            <label for="mechanizationNeeds">Mechanization Needs:</label>
                            <textarea id="mechanizationNeeds" placeholder="Describe mechanization needs" required></textarea>
                        </div>
                        <button type="submit">Register</button>
                    </form>
                    <div id="alertMessage" class="alert"></div>
                    <p id="farmerID"></p>
                `;
                
                // Handle form submission and Firebase
                document.getElementById('farmerForm').addEventListener('submit', async function(event) {
                    event.preventDefault();
                    
                    let farmerID = generateFarmerID();
                    const farmerName = document.getElementById('farmerName').value;
                    const farmerPhone = document.getElementById('farmerPhone').value;
                    const farmerLocation = document.getElementById('farmerLocation').value;
                    const farmingType = document.getElementById('farmingType').value;
                    const cropType = document.getElementById('cropType').value;
                    const mechanizationNeeds = document.getElementById('mechanizationNeeds').value;

                    try {
                        // Add the farmer data to Firestore
                        const docRef = await addDoc(collection(db, "farmers"), {
                            name: farmerName,
                            phone: farmerPhone,
                            location: farmerLocation,
                            farmingType: farmingType,
                            cropType: cropType,
                            mechanizationNeeds: mechanizationNeeds,
                            farmerID: farmerID,
                            timestamp: new Date()
                        });
                        
                        document.getElementById('alertMessage').innerHTML = 'Registration successful!';
                        document.getElementById('farmerID').innerHTML = `Your Farmer ID: ${farmerID}`;
                    } catch (e) {
                        document.getElementById('alertMessage').innerHTML = `Error: ${e.message}`;
                    }
                });
            } else if (page === 'contact') {
                contentSection.innerHTML = `
                    <h2>Contact Us</h2>
                    <p>If you have any questions, feel free to contact us at:</p>
                    <ul>
                        <li>Email: support@farmsupport.com</li>
                        <li>Phone: +123-456-7890</li>
                    </ul>
                    <p>We are here to help you with any concerns related to our platform or services.</p>
                `;
            }
        }

        // Function to generate a unique Farmer ID
        function generateFarmerID() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let id = '';
            for (let i = 0; i < 8; i++) {
                id += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return id;
        }
    </script>
</body>
</html>
