<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer Support Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Farm Support</h1>
        </div>
        <nav>
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="#register">Register</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section id="hero">
        <div class="hero-content">
            <h2>Empowering Farmers with Mechanization Support</h2>
            <p>Register today to receive personalized agricultural assistance.</p>
        </div>
    </section>

    <section id="about" class="content-section">
        <div class="about-container">
            <h2>About Us</h2>
            <p>At Farm Support, we are dedicated to helping farmers access the resources they need to improve their productivity. Our platform connects farmers with the right mechanization services tailored to their needs, ensuring sustainable and efficient farming practices.</p>
            <p>We believe that with the right tools, farmers can improve their yields, save time, and boost their income. Our services aim to empower the agricultural community through technology and innovation.</p>
            <h3>Our Mission</h3>
            <p>Our mission is to provide farmers with the tools, support, and resources they need to thrive in a modern agricultural landscape. We are committed to improving the efficiency and productivity of farmers while fostering sustainable practices.</p>
        </div>
    </section>

    <section id="register" class="content-section">
        <div class="form-container">
            <h2>Farmer Registration</h2>
            <form id="farmerForm">
                <!-- Registration form inputs go here -->
                <!-- ... -->
            </form>
            <div id="alertMessage" class="alert"></div>
            <p id="farmerID"></p>
        </div>
    </section>

    <section id="contact" class="content-section">
        <div class="contact-container">
            <h2>Contact Us</h2>
            <p>If you have any questions or need assistance, feel free to reach out to us:</p>
            <ul>
                <li>Email: support@farmsupport.com</li>
                <li>Phone: +123-456-7890</li>
            </ul>
            <p>We are here to help you with any concerns related to our platform or services.</p>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Farm Support. All rights reserved.</p>
        </div>
    </footer>

    <!-- Firebase Script -->
    <script type="module">
        const firebaseConfig = {
            apiKey: "AIzaSyCQhN1TJRcRJ2ef34uCgRtPZON7E4lJj64",
            authDomain: "farmer-data-collection-48d45.firebaseapp.com",
            projectId: "farmer-data-collection-48d45",
            storageBucket: "farmer-data-collection-48d45.appspot.com",
            messagingSenderId: "755785555291",
            appId: "1:755785555291:web:714b31f381697e43238e7e",
            measurementId: "G-T45LN4R8VM"
        };

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        function generateID() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            const length = 8;
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * characters.length);
                result += characters[randomIndex];
            }
            return result;
        }

        document.getElementById("farmerForm").addEventListener("submit", async (event) => {
            event.preventDefault();

            let name = document.getElementById("name").value;
            let location = document.getElementById("location").value;
            let farmSize = document.getElementById("farmSize").value;
            let crop = document.getElementById("crop").value;
            let soilType = document.getElementById("soilType").value;
            let irrigation = document.getElementById("irrigation").value;
            let labor = document.getElementById("labor").value;
            let budget = document.getElementById("budget").value;

            try {
                const farmerID = generateID();

                await addDoc(collection(db, "farmers"), {
                    id: farmerID,
                    name: name,
                    location: location,
                    farmSize: farmSize,
                    crop: crop,
                    soilType: soilType,
                    irrigation: irrigation,
                    labor: labor,
                    budget: budget,
                    timestamp: new Date()
                });

                document.getElementById("farmerID").innerText = `Your Farmer ID: ${farmerID}`;
                document.getElementById("alertMessage").innerText = `Registration successful! Your ID: ${farmerID}`;
                document.getElementById("alertMessage").classList.add("success");
                document.getElementById("alertMessage").classList.remove("error");

                document.getElementById("farmerForm").reset();
            } catch (error) {
                document.getElementById("alertMessage").innerText = "Error registering. Please try again.";
                document.getElementById("alertMessage").classList.add("error");
                document.getElementById("alertMessage").classList.remove("success");
            }
        });
    </script>
</body>
</html>
